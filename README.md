# 周易起卦与 AI 解卦网站

一个纯前端网站，支持：
- 输入用户问题
- 采集用户行为随机数（鼠标/键盘/点击/滚动）
- 按 **大衍筮法（蓍草法）** 严格流程起卦（每爻三变）
- 输出本卦、变卦、动爻与流程明细
- 缓存最近起卦记录（刷新后仍可查看）
- 调用 Anthropic API 进行 AI 解卦（可选）

说明：当前版本不再提供本地离线解卦文案。

## 文件结构

- `index.html`：页面结构
- `index.en.html`：英文版页面结构
- `styles.css`：样式
- `app.js`：起卦算法、随机熵采集、结果渲染、AI 调用

## 使用方法

1. 直接双击 `index.html` 打开，或用静态服务器运行：

```bash
python3 -m http.server 8080
```

然后访问 `http://localhost:8080`。
- 中文版：`http://localhost:8080/index.html`
- 英文版：`http://localhost:8080/index.en.html`

2. 在页面输入问题。
3. 点击“进入默读并起卦”，页面会锁定并弹出问题。
4. 在弹层中默读问题，同时自然移动鼠标、点击或按键以积累“行为熵”。
5. 熵条满后点击“完成默读，开始起卦”。
6. 可选：填写 Anthropic API Key，点击“AI解卦”。

## Vercel 部署

本仓库已包含 `vercel.json`，可直接部署为静态站点：

1. 将仓库导入 Vercel（Framework Preset 选 `Other` 即可）。
2. Build Command 留空，Output Directory 留空。
3. 部署后路由：
   - `/` 或 `/zh`：中文版
   - `/en`：英文版

## 严格流程说明

本项目使用《周易》常用的 **蓍草大衍法**：
- 每爻起始为 49 策
- 每爻进行三次“分二、挂一、揲四”
- 三变后得到 6/7/8/9
  - 6：老阴（动）
  - 7：少阳
  - 8：少阴
  - 9：老阳（动）
- 六爻（自下而上）构成本卦；动爻阴阳反转构成变卦

## 历史记录缓存

- 最近起卦记录会保存到浏览器 `localStorage`（默认最多 20 条）
- 刷新页面后，可在“最近起卦记录”中继续查看并回放结果

## 注意

- 本网站仅用于文化研究与决策参考，不应替代专业法律、医疗、投资建议。
- API Key 仅在当前页面内存中使用，不会写入本地文件。
